<!-- ReSharper disable Html.TagNotResolved -->
<html>
<head>
	<title>Native Components</title>
	<!--<script src="../build.js"></script>-->
	<script src="https://aframe.io/releases/0.2.0/aframe.min.js"></script>
	<script src="../../dist/aframe-altspace-component.js"></script>
	<script src="http://sdk.altvr.com/libs/altspace.js/0.19.0/altspace.min.js"></script>
	</head>
<body>
<a-scene altspace>
	<script>
		document.addEventListener('DOMContentLoaded', function(){
			var trigger = document.querySelector('#trigger-0');

			var fireworks = document.createElement("a-entity");
			trigger.appendChild(fireworks);

			var label = document.createElement("a-entity");
			//trigger.appendChild(label); 
			label.setAttribute('position', '0 1.5 0');
			label.setAttribute('rotation', '0 180 0');
			label.setAttribute('scale', '0.5 0.5 0.5');
			label.setAttribute('n-text', 'text:' + 0);
			label.setAttribute('n-billboard');

			trigger.addEventListener('stateadded', function(){
				if(event.detail.state === 'container-full'){
					fireworks.setAttribute('n-object', 'effects/fireworks');
				}
			});

			trigger.addEventListener('stateremoved', function(){
				if(event.detail.state === 'container-full'){
					fireworks.removeAttribute('n-object');
				}
			});

			trigger.addEventListener('container-count-changed', function(event){
				label.setAttribute('n-text', 'text:' + event.detail.count);
			});
		});
	</script>

	<a-entity id="game" position="1 0 -4">
		<a-entity n-object="objects/basketball net" position="-1 3 0" rotation="0 90 0">
			<!-- <a-entity position="0 0 0">
				<a-animation attribute="rotation" dur="2000" to="0 360 0" easing="ease" repeat="indefinite"></a-animation>
				<a-entity position="0.5 0 0" n-object="effects/sparkler"></a-entity>
			</a-entity>
			<a-entity position="0 0 0">
				<a-animation attribute="rotation" dur="2000" to="0 360 0" direction="reverse" easing="ease" repeat="indefinite"></a-animation>
				<a-entity position="0.5 0 0" n-object="effects/sparkler"></a-entity>
			</a-entity> -->
		</a-entity>
		<a-box color="yellowgreen" scale="3 2.8 1" opacity="0.01" id="trigger-0" n-box-collider="isTrigger:true" n-container="capacity:3" position="-1 1 0"></a-box>


		<a-entity n-object="architecture/wall-2w-4h" position="1 0.5 -1" rotation="0 -90 0"></a-entity>
		<a-entity n-object="architecture/wall-2w-4h" position="-1 0.5 -1" rotation="0 -90 0"></a-entity>

		<a-entity n-spawner="res:interactables/basketball" position="0.5 1.25 3">
			<a-entity position="0 0.5 0" n-object="effects/fire"></a-entity>
		</a-entity>
		<a-entity n-spawner="res:interactables/basketball" position="-2.5 1.25 3">
			<a-entity position="0 0.5 0" n-object="effects/fire"></a-entity>
		</a-entity>

		<a-entity class="wall" position="0.5 0.5 0">
			<a-entity n-object="architecture/railing-4l" position="-0.125 2.5 -0.25" rotation="45 0 0" scale="1 0.5 1"></a-entity>

			<a-entity n-object="architecture/wall-2w-4h" position="0 0 -0.5" rotation="0 0 0" scale="1 1 0.25"></a-entity>
			<a-entity n-object="architecture/wall-2w-4h" position="0 0 0" rotation="0 0 0" scale="1 0.5 0.5"></a-entity>
			<a-entity n-object="architecture/wall-2w-4h" position="0 0 1" rotation="0 0 0" scale="1 0.25 0.5"></a-entity>
			<a-entity n-object="architecture/wall-2w-4h" position="0 0 2" rotation="0 0 0" scale="1 0.125 0.5"></a-entity>


			<a-entity rotation="0 90 15" position="-2.5 4.5 -0.5">
				<a-entity n-object="architecture/wall-4w-4h" scale="1 0.5 0.5"></a-entity>
				<a-entity rotation="0 90 0">
					<a-entity n-text="text:SCORE;" scale="0.5 0.5 0.5" position="-1 1.5 -0.1"></a-entity>
					<a-entity n-text="text:0" position="-1 0.65 -0.1"></a-entity>
				</a-entity>
			</a-entity>

			<a-entity rotation="0 45 0" position="1 2 0">
				<a-entity n-object="architecture/wall-4w-4h" scale="1 0.5 0.5"></a-entity>
				<a-entity rotation="0 90 0">
					<a-entity n-text="text:HIGHSCORE;" scale="0.3 0.5 0.5" position="-1 1.5 -0.1"></a-entity>
					<a-entity n-text="text:12" position="-1 0.65 -0.1"></a-entity>
				</a-entity>
			</a-entity>

			<a-entity rotation="0 115 0" position="-6 2 0">
				<a-entity n-object="architecture/wall-4w-4h" scale="1 0.5 0.5"></a-entity>
				<a-entity rotation="0 90 0">
					<a-entity n-text="text:CLOCK;" scale="0.5 0.5 0.5" position="-1 1.5 -0.1"></a-entity>
					<a-entity n-text="text:60" position="-1 0.65 -0.1"></a-entity>
				</a-entity>
			</a-entity>
		</a-entity>

		<a-box color="red" scale="1 0.1 1" opacity="0.5" id="trigger-0" rotation="45 0 0" n-box-collider="isTrigger:false" n-container="capacity:3" position="-2 2.8 0"></a-box>

		<a-entity class="wall" position="-3 0.5 0">
			<!-- <a-entity n-object="architecture/railing-2l" position="1.5 2.5 -0.25" rotation="45 0 90" scale="1 1 0.5"></a-entity> -->

			<a-entity n-object="architecture/railing-4l" position="0.5 2.5 -0.25" rotation="45 0 0" scale="1 0.5 1"></a-entity>

			<a-entity n-object="architecture/wall-2w-4h" position="0 0 -0.5" rotation="0 0 0" scale="1 1 0.25"></a-entity>
			<a-entity n-object="architecture/wall-2w-4h" position="0 0 0" rotation="0 0 0" scale="1 0.5 0.5"></a-entity>
			<a-entity n-object="architecture/wall-2w-4h" position="0 0 1" rotation="0 0 0" scale="1 0.25 0.5"></a-entity>
			<a-entity n-object="architecture/wall-2w-4h" position="0 0 2" rotation="0 0 0" scale="1 0.125 0.5"></a-entity>
		</a-entity>


		<a-entity n-object="architecture/floor-2w-4l" position="1 0.5 3" rotation="0 -90 0"></a-entity>
		<a-entity n-object="architecture/floor-2w-4l" position="-1 0.5 3" rotation="0 -90 0"></a-entity>
	</a-entity>
</a-scene>
</body>
</html>
