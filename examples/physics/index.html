<!-- ReSharper disable Html.TagNotResolved -->
<html>
<head>
	<title>Native Physics</title>
	<!--<script src="../build.js"></script>-->
	<script src="https://aframe.io/releases/0.3.1/aframe.min.js"></script>
	<script src="http://sdk.altvr.com/libs/altspace.js/0.19.0/altspace.min.js"></script>
	<script src="../../dist/aframe-altspace-component.js"></script>
	<script>
		AFRAME.registerComponent('click-for-thrust', {
			init: function () {
				this.el.addEventListener('click', function () {
					this.components['n-rigidbody'].addForce(event.detail.ray.direction, 'impulse');
				});
				this.el.addEventListener('collisionenter', function () {
					this.components['n-rigidbody'].addForce({ x: 1, y: 10, z: 0 }, 'impulse');
					var scene = document.querySelector('a-scene');
					var cylinder = document.createElement('a-cylinder');
					scene.appendChild(cylinder);
					cylinder.setAttribute('color', '#FF9500');
					cylinder.setAttribute('radius', '0.75');

					//TODO NEXT: base this off of the collision point (and transform it into scene)
					cylinder.setAttribute('position', '' + this.components['n-rigidbody'].worldPosition.x + ' ' + this.components['n-rigidbody'].worldPosition.y + ' ' + this.components['n-rigidbody'].worldPosition.z);
				});
			}
		});
	</script>
</head>
<body>
	<a-scene debug altspace>

		<a-entity class="room" position="0 -0.01 0">
			<a-entity class="floor-half">
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, 6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, 6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, 6"></n-entity>

				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, -6"></n-entity>

				<n-entity asset="architecture/floor-slice-concave-4r" position="-6, 0, 10" rotation="0 -90 0"></n-entity>
				<n-entity asset="architecture/floor-slice-concave-4r" position="10, 0, 6"></n-entity>
			</a-entity>
			<a-entity class="floor-half" position="0, 0, -20" rotation="0 180 0">
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-6, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, -10"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="10, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, 6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, 6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, 6"></n-entity>

				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="-2, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="2, 0, -6"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, 2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, -2"></n-entity>
				<n-entity asset="architecture/floor-4w-4l" position="6, 0, -6"></n-entity>

				<n-entity asset="architecture/floor-slice-concave-4r" position="-6, 0, 10" rotation="0 -90 0"></n-entity>
				<n-entity asset="architecture/floor-slice-concave-4r" position="10, 0, 6"></n-entity>
			</a-entity>
			<a-entity class="ceiling-half">
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, 6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, 6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, 6"></n-entity>

				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, -6"></n-entity>

				<n-entity asset="architecture/ceiling-slice-concave-4r" position="-6, 4, 10" rotation="0 -90 0"></n-entity>
				<n-entity asset="architecture/ceiling-slice-concave-4r" position="10, 4, 6"></n-entity>
			</a-entity>
			<a-entity class="ceiling-half" position="0, 0, -20" rotation="0 180 0">
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-6, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, -10"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="10, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, 6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, 6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, 6"></n-entity>

				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="-2, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="2, 4, -6"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, 2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, -2"></n-entity>
				<n-entity asset="architecture/ceiling-4w-4l" position="6, 4, -6"></n-entity>

				<n-entity asset="architecture/ceiling-slice-concave-4r" position="-6, 4, 10" rotation="0 -90 0"></n-entity>
				<n-entity asset="architecture/ceiling-slice-concave-4r" position="10, 4, 6"></n-entity>
			</a-entity>
			<a-entity class="walls-half">
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -26" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -18" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -22" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -14" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -26"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -18"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -22"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -14"></n-entity>

				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="-6, 0, -30"></n-entity>
				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="-6, 4, -30"></n-entity>

				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="10, 0, -26" rotation="0 -90 0"></n-entity>
				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="10, 4, -26" rotation="0 -90 0"></n-entity>

				<n-entity asset="architecture/wall-window-gap-end-l-4w-4h" position="10, 0, -26" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="10, 0, -22" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="10, 0, -18" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="10, 0, -14w" scale="-1 1 1"></n-entity>

				<n-entity asset="architecture/wall-window-gap-end-l-4w-4h" position="-10, 0, -26"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="-10, 0, -22"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="-10, 0, -18"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="-10, 0, -14w"></n-entity>

				<a-entity class="railings" position="0, 0, -30">
					<a-entity class="railing-bottom" position="0, 0, 0">
						<n-entity asset="architecture/railing-4l" position="-6, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="-2, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="2, 0, 0" rotation="0 90 0"></n-entity>
					</a-entity>
					<a-entity class="railing-bottom" position="0, 8, 0" rotation="0 0 180">
						<n-entity asset="architecture/railing-4l" position="-6, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="-2, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="2, 0, 0" rotation="0 90 0"></n-entity>
					</a-entity>
				</a-entity>
			</a-entity>
			<a-entity class="walls-half" position="0, 0, -20" rotation="0 180 0">
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -26" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -18" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -22" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="10, 4, -14" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -26"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -18"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -22"></n-entity>
				<n-entity asset="architecture/wall-4w-4h" position="-10, 4, -14"></n-entity>

				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="-6, 0, -30"></n-entity>
				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="-6, 4, -30"></n-entity>

				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="10, 0, -26" rotation="0 -90 0"></n-entity>
				<n-entity asset="architecture/wall-curve-convex-4r-4h" position="10, 4, -26" rotation="0 -90 0"></n-entity>

				<n-entity asset="architecture/wall-window-gap-end-l-4w-4h" position="10, 0, -26" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="10, 0, -22" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="10, 0, -18" scale="-1 1 1"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="10, 0, -14w" scale="-1 1 1"></n-entity>

				<n-entity asset="architecture/wall-window-gap-end-l-4w-4h" position="-10, 0, -26"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="-10, 0, -22"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="-10, 0, -18"></n-entity>
				<n-entity asset="architecture/wall-window-gap-4w-4h" position="-10, 0, -14w"></n-entity>

				<a-entity class="railings" position="0, 0, -30">
					<a-entity class="railing-bottom" position="0, 0, 0">
						<n-entity asset="architecture/railing-4l" position="-6, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="-2, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="2, 0, 0" rotation="0 90 0"></n-entity>
					</a-entity>
					<a-entity class="railing-bottom" position="0, 8, 0" rotation="0 0 180">
						<n-entity asset="architecture/railing-4l" position="-6, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="-2, 0, 0" rotation="0 90 0"></n-entity>
						<n-entity asset="architecture/railing-4l" position="2, 0, 0" rotation="0 90 0"></n-entity>
					</a-entity>
				</a-entity>
			</a-entity>
		</a-entity>
		
		<a-entity class="hole" position="0 2 0">
			<n-entity asset="architecture/wall-base-curve-convex-2r" position="2 0.25 0" rotation="0 270 0"></n-entity>
			<n-entity asset="architecture/wall-base-curve-convex-2r" position="0 0.25 -2"></n-entity>
			<n-entity asset="architecture/wall-base-curve-convex-2r" position="-2 0.25 0" rotation="0 90 0"></n-entity>
			<n-entity asset="architecture/wall-base-curve-convex-2r" position="0 0.25 2" rotation="0 180 0"></n-entity>

			<n-entity asset="architecture/wall-base-curve-concave-2r" position="2 0.25 0"></n-entity>
			<n-entity asset="architecture/wall-base-curve-concave-2r" position="0 0.25 -2" rotation="0 90 0"></n-entity>
			<n-entity asset="architecture/wall-base-curve-concave-2r" position="-2 0.25 0" rotation="0 180 0"></n-entity>
			<n-entity asset="architecture/wall-base-curve-concave-2r" position="0 0.25 2" rotation="0 270 0"></n-entity>
		</a-entity>

		<a-sphere color="blue" material="src: url(texture.jpg)" click-for-thrust n-sphere-collider="radius:0.3" n-rigidbody="positionConstraints:true false true" radius="0.5" position="1 3 0">
		</a-sphere>
		<a-sphere color="red" material="src: url(texture.jpg)" click-for-thrust n-sphere-collider n-rigidbody="useGravity:false" radius="0.7" position="0 4 0">
		</a-sphere>
		<a-sphere color="green" material="src: url(texture.jpg)" click-for-thrust n-sphere-collider n-rigidbody radius="0.5" position="-1 3 0">
		</a-sphere>

	</a-scene>
</body>
</html>
